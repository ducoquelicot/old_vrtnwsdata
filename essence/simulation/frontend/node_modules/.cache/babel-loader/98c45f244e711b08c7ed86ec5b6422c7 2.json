{"ast":null,"code":"import _classCallCheck from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import*as d3 from'd3';import styles from'./style';var Narrator=/*#__PURE__*/function(_React$PureComponent){_inherits(Narrator,_React$PureComponent);var _super=_createSuper(Narrator);function Narrator(props){var _this;_classCallCheck(this,Narrator);_this=_super.call(this,props);_this.references={text1:React.createRef()};return _this;}_createClass(Narrator,[{key:\"componentDidMount\",value:function componentDidMount(){this.animate();}},{key:\"animate\",value:function animate(){switch(this.props.phase){case 1:this.animatePhase1();break;case 2:this.animatePhase2();break;default:this.animatePhase1();}}},{key:\"animatePhase1\",value:function animatePhase1(){var duration=this.props.duration;var steps=4;var timePerStep=duration/steps;var delay=timePerStep*0.5;var animationTime=timePerStep*0.25;d3.select(this.references.text1.current).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('100 mensen').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn blank').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn zwart').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn schuldig').transition().delay(delay).duration(animationTime).style('opacity',0);}},{key:\"animatePhase2\",value:function animatePhase2(){}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"text\",{ref:this.references.text1,style:styles.text,className:\"narrator\",x:\"50%\",y:\"50%\"});}}]);return Narrator;}(React.PureComponent);export{Narrator as default};","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js"],"names":["React","d3","styles","Narrator","props","references","text1","createRef","animate","phase","animatePhase1","animatePhase2","duration","steps","timePerStep","delay","animationTime","select","current","style","transition","text","PureComponent"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,SAAnB,C,GAEqBC,CAAAA,Q,wHACnB,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACA,MAAKC,UAAL,CAAkB,CAAEC,KAAK,CAAEN,KAAK,CAACO,SAAN,EAAT,CAAlB,CAFiB,aAGlB,C,kFAEmB,CAClB,KAAKC,OAAL,GACD,C,yCAES,CACR,OAAQ,KAAKJ,KAAL,CAAWK,KAAnB,EACE,IAAK,EAAL,CACE,KAAKC,aAAL,GACA,MACF,IAAK,EAAL,CACE,KAAKC,aAAL,GACA,MACF,QACE,KAAKD,aAAL,GARJ,CAUD,C,qDAEe,IACNE,CAAAA,QADM,CACO,KAAKR,KADZ,CACNQ,QADM,CAEd,GAAMC,CAAAA,KAAK,CAAG,CAAd,CACA,GAAMC,CAAAA,WAAW,CAAGF,QAAQ,CAAGC,KAA/B,CACA,GAAME,CAAAA,KAAK,CAAGD,WAAW,CAAG,GAA5B,CACA,GAAME,CAAAA,aAAa,CAAGF,WAAW,CAAG,IAApC,CAEAb,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBC,KAAhB,CAAsBY,OAAhC,EACGC,KADH,CACS,SADT,CACoB,CADpB,EAGGC,UAHH,GAIGR,QAJH,CAIYI,aAJZ,EAKGG,KALH,CAKS,SALT,CAKoB,CALpB,EAMGE,IANH,CAMQ,YANR,EAOGD,UAPH,GAQGL,KARH,CAQSA,KART,EASGH,QATH,CASYI,aATZ,EAUGG,KAVH,CAUS,SAVT,CAUoB,CAVpB,EAYGC,UAZH,GAaGR,QAbH,CAaYI,aAbZ,EAcGG,KAdH,CAcS,SAdT,CAcoB,CAdpB,EAeGE,IAfH,CAeQ,qBAfR,EAgBGD,UAhBH,GAiBGL,KAjBH,CAiBSA,KAjBT,EAkBGH,QAlBH,CAkBYI,aAlBZ,EAmBGG,KAnBH,CAmBS,SAnBT,CAmBoB,CAnBpB,EAqBGC,UArBH,GAsBGR,QAtBH,CAsBYI,aAtBZ,EAuBGG,KAvBH,CAuBS,SAvBT,CAuBoB,CAvBpB,EAwBGE,IAxBH,CAwBQ,qBAxBR,EAyBGD,UAzBH,GA0BGL,KA1BH,CA0BSA,KA1BT,EA2BGH,QA3BH,CA2BYI,aA3BZ,EA4BGG,KA5BH,CA4BS,SA5BT,CA4BoB,CA5BpB,EA8BGC,UA9BH,GA+BGR,QA/BH,CA+BYI,aA/BZ,EAgCGG,KAhCH,CAgCS,SAhCT,CAgCoB,CAhCpB,EAiCGE,IAjCH,CAiCQ,wBAjCR,EAkCGD,UAlCH,GAmCGL,KAnCH,CAmCSA,KAnCT,EAoCGH,QApCH,CAoCYI,aApCZ,EAqCGG,KArCH,CAqCS,SArCT,CAqCoB,CArCpB,EAsCD,C,qDAEe,CAEf,C,uCAEQ,CACP,mBACE,4BAAM,GAAG,CAAE,KAAKd,UAAL,CAAgBC,KAA3B,CAAkC,KAAK,CAAEJ,MAAM,CAACmB,IAAhD,CACE,SAAS,CAAC,UADZ,CAEE,CAAC,CAAC,KAFJ,CAGE,CAAC,CAAC,KAHJ,EADF,CAOD,C,sBAlFmCrB,KAAK,CAACsB,a,SAAvBnB,Q","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { text1: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const { duration } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text1.current)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('100 mensen')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn blank')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn zwart')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn schuldig')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0);\n  }\n\n  animatePhase2() {\n\n  }\n\n  render() {\n    return (\n      <text ref={this.references.text1} style={styles.text}\n        className='narrator'\n        x='50%'\n        y='50%'\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
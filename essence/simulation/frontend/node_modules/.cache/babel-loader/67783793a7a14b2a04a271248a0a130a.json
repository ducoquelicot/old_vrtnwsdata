{"ast":null,"code":"import _classCallCheck from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import*as d3 from'd3';import styles from'./style';var Citizen=/*#__PURE__*/function(_React$PureComponent){_inherits(Citizen,_React$PureComponent);var _super=_createSuper(Citizen);function Citizen(props){var _this;_classCallCheck(this,Citizen);_this=_super.call(this,props);_this.xCoord=\"\".concat(Math.round(Math.random()*90)+5,\"%\");_this.yCoord=\"\".concat(Math.round(Math.random()*90)+5,\"%\");_this.references={citizen:React.createRef()};return _this;}_createClass(Citizen,[{key:\"componentDidMount\",value:function componentDidMount(){this.animate();}},{key:\"animate\",value:function animate(){switch(this.props.phase){case 1:this.animatePhase1();break;case 2:this.animatePhase2();break;default:this.animatePhase1();}}},{key:\"animatePhase1\",value:function animatePhase1(){var _this$props=this.props,duration=_this$props.duration,index=_this$props.index,skinTone=_this$props.skinTone,guilty=_this$props.guilty;var steps=4;var timePerStep=duration/steps;var delay=timePerStep*0.75*(index/100);var animationTime=timePerStep*0.25;if(skinTone==='white'){d3.select(this.references.citizen.current).style('opacity',0).transition().delay(timePerStep).transition().delay(delay).duration(animationTime).style('opacity',1.0);}if(skinTone==='black'){d3.select(this.references.citizen.current).style('opacity',0).transition().delay(timePerStep*2).transition().delay(delay).duration(animationTime).style('opacity',1.0);}if(guilty){d3.select(this.references.citizen.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime*2).style('stroke','red').attr('stroke-width',5);}}},{key:\"animatePhase2\",value:function animatePhase2(){}},{key:\"render\",value:function render(){var skinTone=this.props.skinTone;return/*#__PURE__*/React.createElement(\"circle\",{ref:this.references.citizen,style:styles.circle,cx:this.xCoord,cy:this.yCoord,r:\"0.75%\",stroke:\"black\",fill:skinTone,strokeWidth:\"1\"});}}]);return Citizen;}(React.PureComponent);export{Citizen as default};","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Citizen/index.js"],"names":["React","d3","styles","Citizen","props","xCoord","Math","round","random","yCoord","references","citizen","createRef","animate","phase","animatePhase1","animatePhase2","duration","index","skinTone","guilty","steps","timePerStep","delay","animationTime","select","current","style","transition","attr","circle","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Citizen extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.xCoord = `${Math.round(Math.random() * 90) + 5}%`;\n    this.yCoord = `${Math.round(Math.random() * 90) + 5}%`;\n    this.references = { citizen: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const { duration, index, skinTone, guilty } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = (timePerStep * 0.75) * (index / 100);\n    const animationTime = timePerStep * 0.25;\n\n    if (skinTone === 'white') {\n      d3.select(this.references.citizen.current)\n        .style('opacity', 0)\n\n        .transition()\n        .delay(timePerStep)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0);\n    }\n\n    if (skinTone === 'black') {\n      d3.select(this.references.citizen.current)\n        .style('opacity', 0)\n\n        .transition()\n        .delay(timePerStep * 2)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0);\n    }\n\n    if (guilty) {\n      d3.select(this.references.citizen.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime * 2)\n        .style('stroke', 'red')\n        .attr('stroke-width', 5);\n    }\n  }\n\n  animatePhase2() {\n\n  }\n\n  render() {\n    const { skinTone } = this.props;\n    return (\n      <circle ref={this.references.citizen} style={styles.circle}\n        cx={this.xCoord}\n        cy={this.yCoord}\n        r=\"0.75%\"\n        stroke=\"black\"\n        fill={skinTone}\n        strokeWidth=\"1\"\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = {\n      text1: React.createRef(),\n      text2: React.createRef()\n    };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n\n      case 2:\n        this.animatePhase2();\n        break;\n\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const {\n      duration\n    } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    d3.select(this.references.text1.current).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Een fictieve populatie van 100 mensen').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn wit').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn zwart').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn crimineel').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().delay(delay).duration(animationTime).style('opacity', 1).text('De politie controleert willekeurig mensen op straat.').transition().delay(delay).duration(animationTime).style('opacity', 0);\n  }\n\n  animatePhase2() {\n    const {\n      duration\n    } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    d3.select(this.references.text2.current).style('opacity', 0).transition().delay(delay * 2).duration(animationTime).style('opacity', 1).text('Dit zijn de gecontroleerde mensen.').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().delay(delay).duration(animationTime).style('opacity', 1).text('De politie telt het aantal criminelen van elke huidskleur.').transition().delay(delay).duration(animationTime).style('opacity', 0);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text1,\n      style: styles.text,\n      className: \"narrator\",\n      x: \"50%\",\n      y: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text2,\n      style: styles.text2,\n      className: \"narrator\",\n      x: \"50%\",\n      y: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js"],"names":["React","d3","styles","Narrator","PureComponent","constructor","props","references","text1","createRef","text2","componentDidMount","animate","componentDidUpdate","phase","animatePhase1","animatePhase2","duration","steps","timePerStep","delay","animationTime","select","current","style","transition","text","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { text1: React.createRef(), text2: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text1.current)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Een fictieve populatie van 100 mensen')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn wit')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn zwart')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn crimineel')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie controleert willekeurig mensen op straat.')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0);\n  }\n\n\n  animatePhase2() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text2.current)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay * 2)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Dit zijn de gecontroleerde mensen.')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie telt het aantal criminelen van elke huidskleur.')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n  }\n\n  render() {\n    return (\n      <g>\n        <text ref={this.references.text1} style={styles.text}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n        <text ref={this.references.text2} style={styles.text2}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
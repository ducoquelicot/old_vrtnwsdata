{"ast":null,"code":"var _jsxFileName = \"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Bars/index.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\nexport default class Bars extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = {\n      stats1: React.createRef(),\n      stats2: React.createRef(),\n      text1: React.createRef(),\n      text2: React.createRef(),\n      text3: React.createRef(),\n      text4: React.createRef()\n    };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n\n      case 2:\n        this.animatePhase2();\n        break;\n\n      default: // do nothing\n\n    }\n  }\n\n  animatePhase1() {\n    d3.select(this.references.text1.current).style('opacity', 0);\n    d3.select(this.references.text2.current).style('opacity', 0);\n    d3.select(this.references.text3.current).style('opacity', 0);\n    d3.select(this.references.text4.current).style('opacity', 0);\n  }\n\n  animatePhase2() {\n    const {\n      duration,\n      percentageWhite,\n      percentageBlack\n    } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    d3.select(this.references.stats1.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).attr('height', `${percentageWhite}%`);\n    d3.select(this.references.stats2.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).attr('height', `${percentageBlack}%`);\n    d3.select(this.references.text1.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).style('opacity', 1.0);\n    d3.select(this.references.text2.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).style('opacity', 1.0);\n    d3.select(this.references.text3.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).style('opacity', 1.0);\n    d3.select(this.references.text4.current).transition().delay(timePerStep * 3).transition().delay(delay).duration(animationTime).style('opacity', 1.0);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      style: styles.barContainer1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"rect\", {\n      ref: this.references.stats1,\n      style: styles.bar,\n      x: \"0\",\n      y: \"0\",\n      width: \"6%\",\n      height: \"0\",\n      fill: \"#2396CD\",\n      strokeWidth: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text1,\n      x: \"0\",\n      y: \"-1%\",\n      style: styles.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, Math.round(this.props.percentageWhite), \"%\"), /*#__PURE__*/React.createElement(\"text\", {\n      className: \"bar\",\n      ref: this.references.text2,\n      x: \"0\",\n      y: \"4%\",\n      style: styles.text2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \"Wit\")), /*#__PURE__*/React.createElement(\"g\", {\n      style: styles.barContainer2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"rect\", {\n      ref: this.references.stats2,\n      style: styles.bar,\n      x: \"0\",\n      y: \"0\",\n      width: \"6%\",\n      height: \"0\",\n      fill: \"#2396CD\",\n      strokeWidth: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text3,\n      x: \"0\",\n      y: \"-1%\",\n      style: styles.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, Math.round(this.props.percentageBlack), \"%\"), /*#__PURE__*/React.createElement(\"text\", {\n      className: \"bar\",\n      ref: this.references.text4,\n      x: \"0\",\n      y: \"4%\",\n      style: styles.text2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Zwart\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Bars/index.js"],"names":["React","d3","styles","Bars","PureComponent","constructor","props","references","stats1","createRef","stats2","text1","text2","text3","text4","componentDidMount","animate","componentDidUpdate","phase","animatePhase1","animatePhase2","select","current","style","duration","percentageWhite","percentageBlack","steps","timePerStep","delay","animationTime","transition","attr","render","barContainer1","bar","text","Math","round","barContainer2"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Bars extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { stats1: React.createRef(), stats2: React.createRef(), text1: React.createRef(), text2: React.createRef(), text3: React.createRef(), text4: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n          this.animatePhase1();\n          break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n          // do nothing\n    }\n  }\n\n  animatePhase1() {\n    d3.select(this.references.text1.current)\n        .style('opacity', 0)\n    d3.select(this.references.text2.current)\n        .style('opacity', 0)\n    d3.select(this.references.text3.current)\n        .style('opacity', 0)\n    d3.select(this.references.text4.current)\n        .style('opacity', 0)\n  }\n\n  animatePhase2() {\n    const { duration, percentageWhite, percentageBlack } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    \n    d3.select(this.references.stats1.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .attr('height', `${percentageWhite}%`)\n\n    d3.select(this.references.stats2.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .attr('height', `${percentageBlack}%`)\n\n    d3.select(this.references.text1.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text2.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text3.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text4.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n  }\n\n  render() {\n    return (\n        <g>\n            <g style={styles.barContainer1}>\n                <rect ref={this.references.stats1} style={styles.bar}\n                    x='0'\n                    y='0'\n                    width='6%'\n                    height='0'\n                    fill='#2396CD'\n                    strokeWidth='0'\n                />\n                <text ref={this.references.text1} x='0' y='-1%' style={styles.text}>\n                    {Math.round(this.props.percentageWhite)}%\n                </text>\n                <text className='bar' ref={this.references.text2} x='0' y='4%' style={styles.text2}>\n                    Wit\n                </text>\n            </g>\n            <g style={styles.barContainer2}>\n                <rect ref={this.references.stats2} style={styles.bar}\n                    x='0'\n                    y='0'\n                    width='6%'\n                    height='0'\n                    fill='#2396CD'\n                    strokeWidth='0'\n                />\n                <text ref={this.references.text3} x='0' y='-1%' style={styles.text}>\n                    {Math.round(this.props.percentageBlack)}%\n                </text>\n                <text className='bar' ref={this.references.text4} x='0' y='4%' style={styles.text2}>\n                    Zwart\n                </text>\n            </g>\n        </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
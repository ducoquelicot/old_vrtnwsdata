{"ast":null,"code":"import _classCallCheck from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import*as d3 from'd3';import styles from'./style';var Narrator=/*#__PURE__*/function(_React$PureComponent){_inherits(Narrator,_React$PureComponent);var _super=_createSuper(Narrator);function Narrator(props){var _this;_classCallCheck(this,Narrator);_this=_super.call(this,props);_this.references={text1:React.createRef(),text2:React.createRef()};return _this;}_createClass(Narrator,[{key:\"componentDidMount\",value:function componentDidMount(){this.animate();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.animate();}},{key:\"animate\",value:function animate(){switch(this.props.phase){case 1:this.animatePhase1();break;case 2:this.animatePhase2();break;default:this.animatePhase1();}}},{key:\"animatePhase1\",value:function animatePhase1(){var duration=this.props.duration;var steps=4;var timePerStep=duration/steps;var delay=timePerStep*0.5;var animationTime=timePerStep*0.25;d3.select(this.references.text1.current).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Een fictieve populatie van 100 mensen').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn wit').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn zwart').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Sommigen zijn crimineel').transition().delay(delay).duration(animationTime).style('opacity',0)// scenario 1\n// .transition()\n// .delay(delay)\n// .duration(animationTime)\n// .style('opacity', 1)\n// .text('De politie controleert willekeurig.')\n// .transition()\n// .delay(delay)\n// .duration(animationTime)\n// .style('opacity', 0);\n// scenario 2\n// .transition()\n// .delay(delay)\n// .duration(animationTime)\n// .style('opacity', 1)\n// .text('De politie controleert vaker in \"zwarte\" buurten.')\n// .transition()\n// .delay(delay)\n// .duration(animationTime)\n// .style('opacity', 0);\n// scenario 3\n.transition().delay(delay).duration(animationTime).style('opacity',1).text('De politie controleert vaker in \"zwarte\" buurten...').transition().delay(delay).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('...én heeft een bias.').transition().delay(delay).duration(animationTime).style('opacity',0);}},{key:\"animatePhase2\",value:function animatePhase2(){var duration=this.props.duration;var steps=4;var timePerStep=duration/steps;var delay=timePerStep*0.5;var animationTime=timePerStep*0.25;d3.select(this.references.text2.current).style('opacity',0).transition().delay(delay*2).duration(animationTime).style('opacity',1).text('Dit zijn de gecontroleerde mensen.').transition().delay(delay*0.8).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('De politie telt het aantal criminelen van elke huidskleur.').transition().delay(delay*0.8).duration(animationTime).style('opacity',0).transition().duration(animationTime).style('opacity',1).text('Dit is de totale verdeling van criminelen per huidskleur:').transition().delay(delay*0.8).duration(animationTime).style('opacity',0);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"g\",null,/*#__PURE__*/React.createElement(\"text\",{ref:this.references.text1,style:styles.text,className:\"narrator\",x:\"50%\",y:\"50%\"}),/*#__PURE__*/React.createElement(\"text\",{ref:this.references.text2,style:styles.text2,className:\"narrator\",x:\"50%\",y:\"50%\"}));}}]);return Narrator;}(React.PureComponent);export{Narrator as default};","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js"],"names":["React","d3","styles","Narrator","props","references","text1","createRef","text2","animate","phase","animatePhase1","animatePhase2","duration","steps","timePerStep","delay","animationTime","select","current","style","transition","text","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { text1: React.createRef(), text2: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text1.current)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Een fictieve populatie van 100 mensen')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn wit')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn zwart')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn crimineel')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      // scenario 1\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 1)\n      // .text('De politie controleert willekeurig.')\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 0);\n\n      // scenario 2\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 1)\n      // .text('De politie controleert vaker in \"zwarte\" buurten.')\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 0);\n\n      // scenario 3\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie controleert vaker in \"zwarte\" buurten...')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('...én heeft een bias.')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0);\n  }\n\n\n  animatePhase2() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text2.current)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay * 2)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Dit zijn de gecontroleerde mensen.')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie telt het aantal criminelen van elke huidskleur.')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Dit is de totale verdeling van criminelen per huidskleur:')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n  }\n\n  render() {\n    return (\n      <g>\n        <text ref={this.references.text1} style={styles.text}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n        <text ref={this.references.text2} style={styles.text2}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import*as d3 from'd3';import styles from'./style';var Bars=/*#__PURE__*/function(_React$PureComponent){_inherits(Bars,_React$PureComponent);var _super=_createSuper(Bars);function Bars(props){var _this;_classCallCheck(this,Bars);_this=_super.call(this,props);_this.references={stats1:React.createRef(),stats2:React.createRef(),text1:React.createRef(),text2:React.createRef(),text3:React.createRef(),text4:React.createRef()};return _this;}_createClass(Bars,[{key:\"componentDidMount\",value:function componentDidMount(){this.animate();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.animate();}},{key:\"animate\",value:function animate(){switch(this.props.phase){case 1:this.animatePhase1();break;case 2:this.animatePhase2();break;default:// do nothing\n}}},{key:\"animatePhase1\",value:function animatePhase1(){d3.select(this.references.text1.current).style('opacity',0);d3.select(this.references.text2.current).style('opacity',0);d3.select(this.references.text3.current).style('opacity',0);d3.select(this.references.text4.current).style('opacity',0);}},{key:\"animatePhase2\",value:function animatePhase2(){var _this$props=this.props,duration=_this$props.duration,percentageWhite=_this$props.percentageWhite,percentageBlack=_this$props.percentageBlack;var steps=4;var timePerStep=duration/steps;var delay=timePerStep*0.5;var animationTime=timePerStep*0.25;d3.select(this.references.stats1.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).attr('height',\"\".concat(percentageWhite,\"%\"));d3.select(this.references.stats2.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).attr('height',\"\".concat(percentageBlack,\"%\"));d3.select(this.references.text1.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).style('opacity',1.0);d3.select(this.references.text2.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).style('opacity',1.0);d3.select(this.references.text3.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).style('opacity',1.0);d3.select(this.references.text4.current).transition().delay(timePerStep*3).transition().delay(delay).duration(animationTime).style('opacity',1.0);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"g\",null,/*#__PURE__*/React.createElement(\"g\",{style:styles.barContainer1},/*#__PURE__*/React.createElement(\"rect\",{ref:this.references.stats1,style:styles.bar,x:\"0\",y:\"0\",width:\"6%\",height:\"0\",fill:\"#2396CD\",strokeWidth:\"0\"}),/*#__PURE__*/React.createElement(\"text\",{ref:this.references.text1,x:\"0\",y:\"-1%\",style:styles.text},Math.round(this.props.percentageWhite),\"%\")),/*#__PURE__*/React.createElement(\"g\",{style:styles.barContainer2},/*#__PURE__*/React.createElement(\"rect\",{ref:this.references.stats2,style:styles.bar,x:\"0\",y:\"0\",width:\"6%\",height:\"0\",fill:\"#2396CD\",strokeWidth:\"0\"}),/*#__PURE__*/React.createElement(\"text\",{ref:this.references.text3,x:\"0\",y:\"-1%\",style:styles.text},Math.round(this.props.percentageBlack),\"%\")));}}]);return Bars;}(React.PureComponent);export{Bars as default};","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Bars/index.js"],"names":["React","d3","styles","Bars","props","references","stats1","createRef","stats2","text1","text2","text3","text4","animate","phase","animatePhase1","animatePhase2","select","current","style","duration","percentageWhite","percentageBlack","steps","timePerStep","delay","animationTime","transition","attr","barContainer1","bar","text","Math","round","barContainer2","PureComponent"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,SAAnB,C,GAEqBC,CAAAA,I,gHACnB,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,UAAL,CAAkB,CAAEC,MAAM,CAAEN,KAAK,CAACO,SAAN,EAAV,CAA6BC,MAAM,CAAER,KAAK,CAACO,SAAN,EAArC,CAAwDE,KAAK,CAAET,KAAK,CAACO,SAAN,EAA/D,CAAkFG,KAAK,CAAEV,KAAK,CAACO,SAAN,EAAzF,CAA4GI,KAAK,CAAEX,KAAK,CAACO,SAAN,EAAnH,CAAsIK,KAAK,CAAEZ,KAAK,CAACO,SAAN,EAA7I,CAAlB,CAFiB,aAGlB,C,8EAEmB,CAClB,KAAKM,OAAL,GACD,C,+DAEoB,CACnB,KAAKA,OAAL,GACD,C,yCAES,CACR,OAAQ,KAAKT,KAAL,CAAWU,KAAnB,EACE,IAAK,EAAL,CACI,KAAKC,aAAL,GACA,MACJ,IAAK,EAAL,CACE,KAAKC,aAAL,GACA,MACF,QACI;AARN,CAUD,C,qDAEe,CACdf,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBI,KAAhB,CAAsBS,OAAhC,EACKC,KADL,CACW,SADX,CACsB,CADtB,EAEAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBK,KAAhB,CAAsBQ,OAAhC,EACKC,KADL,CACW,SADX,CACsB,CADtB,EAEAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBM,KAAhB,CAAsBO,OAAhC,EACKC,KADL,CACW,SADX,CACsB,CADtB,EAEAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBO,KAAhB,CAAsBM,OAAhC,EACKC,KADL,CACW,SADX,CACsB,CADtB,EAED,C,qDAEe,iBACyC,KAAKf,KAD9C,CACNgB,QADM,aACNA,QADM,CACIC,eADJ,aACIA,eADJ,CACqBC,eADrB,aACqBA,eADrB,CAEd,GAAMC,CAAAA,KAAK,CAAG,CAAd,CACA,GAAMC,CAAAA,WAAW,CAAGJ,QAAQ,CAAGG,KAA/B,CACA,GAAME,CAAAA,KAAK,CAAGD,WAAW,CAAG,GAA5B,CACA,GAAME,CAAAA,aAAa,CAAGF,WAAW,CAAG,IAApC,CAEAvB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBC,MAAhB,CAAuBY,OAAjC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKE,IANL,CAMU,QANV,WAMuBP,eANvB,OAQApB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBG,MAAhB,CAAuBU,OAAjC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKE,IANL,CAMU,QANV,WAMuBN,eANvB,OAQArB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBI,KAAhB,CAAsBS,OAAhC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKP,KANL,CAMW,SANX,CAMsB,GANtB,EAQAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBK,KAAhB,CAAsBQ,OAAhC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKP,KANL,CAMW,SANX,CAMsB,GANtB,EAQAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBM,KAAhB,CAAsBO,OAAhC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKP,KANL,CAMW,SANX,CAMsB,GANtB,EAQAlB,EAAE,CAACgB,MAAH,CAAU,KAAKZ,UAAL,CAAgBO,KAAhB,CAAsBM,OAAhC,EACKS,UADL,GAEKF,KAFL,CAEWD,WAAW,CAAG,CAFzB,EAGKG,UAHL,GAIKF,KAJL,CAIWA,KAJX,EAKKL,QALL,CAKcM,aALd,EAMKP,KANL,CAMW,SANX,CAMsB,GANtB,EAOD,C,uCAEQ,CACP,mBACI,0CACI,yBAAG,KAAK,CAAEjB,MAAM,CAAC2B,aAAjB,eACI,4BAAM,GAAG,CAAE,KAAKxB,UAAL,CAAgBC,MAA3B,CAAmC,KAAK,CAAEJ,MAAM,CAAC4B,GAAjD,CACI,CAAC,CAAC,GADN,CAEI,CAAC,CAAC,GAFN,CAGI,KAAK,CAAC,IAHV,CAII,MAAM,CAAC,GAJX,CAKI,IAAI,CAAC,SALT,CAMI,WAAW,CAAC,GANhB,EADJ,cASI,4BAAM,GAAG,CAAE,KAAKzB,UAAL,CAAgBI,KAA3B,CAAkC,CAAC,CAAC,GAApC,CAAwC,CAAC,CAAC,KAA1C,CAAgD,KAAK,CAAEP,MAAM,CAAC6B,IAA9D,EACKC,IAAI,CAACC,KAAL,CAAW,KAAK7B,KAAL,CAAWiB,eAAtB,CADL,KATJ,CADJ,cAiBI,yBAAG,KAAK,CAAEnB,MAAM,CAACgC,aAAjB,eACI,4BAAM,GAAG,CAAE,KAAK7B,UAAL,CAAgBG,MAA3B,CAAmC,KAAK,CAAEN,MAAM,CAAC4B,GAAjD,CACI,CAAC,CAAC,GADN,CAEI,CAAC,CAAC,GAFN,CAGI,KAAK,CAAC,IAHV,CAII,MAAM,CAAC,GAJX,CAKI,IAAI,CAAC,SALT,CAMI,WAAW,CAAC,GANhB,EADJ,cASI,4BAAM,GAAG,CAAE,KAAKzB,UAAL,CAAgBM,KAA3B,CAAkC,CAAC,CAAC,GAApC,CAAwC,CAAC,CAAC,KAA1C,CAAgD,KAAK,CAAET,MAAM,CAAC6B,IAA9D,EACKC,IAAI,CAACC,KAAL,CAAW,KAAK7B,KAAL,CAAWkB,eAAtB,CADL,KATJ,CAjBJ,CADJ,CAoCD,C,kBAnI+BtB,KAAK,CAACmC,a,SAAnBhC,I","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Bars extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { stats1: React.createRef(), stats2: React.createRef(), text1: React.createRef(), text2: React.createRef(), text3: React.createRef(), text4: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n          this.animatePhase1();\n          break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n          // do nothing\n    }\n  }\n\n  animatePhase1() {\n    d3.select(this.references.text1.current)\n        .style('opacity', 0)\n    d3.select(this.references.text2.current)\n        .style('opacity', 0)\n    d3.select(this.references.text3.current)\n        .style('opacity', 0)\n    d3.select(this.references.text4.current)\n        .style('opacity', 0)\n  }\n\n  animatePhase2() {\n    const { duration, percentageWhite, percentageBlack } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    \n    d3.select(this.references.stats1.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .attr('height', `${percentageWhite}%`)\n\n    d3.select(this.references.stats2.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .attr('height', `${percentageBlack}%`)\n\n    d3.select(this.references.text1.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text2.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text3.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n\n    d3.select(this.references.text4.current)\n        .transition()\n        .delay(timePerStep * 3)\n        .transition()\n        .delay(delay)\n        .duration(animationTime)\n        .style('opacity', 1.0)\n  }\n\n  render() {\n    return (\n        <g>\n            <g style={styles.barContainer1}>\n                <rect ref={this.references.stats1} style={styles.bar}\n                    x='0'\n                    y='0'\n                    width='6%'\n                    height='0'\n                    fill='#2396CD'\n                    strokeWidth='0'\n                />\n                <text ref={this.references.text1} x='0' y='-1%' style={styles.text}>\n                    {Math.round(this.props.percentageWhite)}%\n                </text>\n                {/* <text className='bar' ref={this.references.text2} x='0' y='4%' style={styles.text2}>\n                    Wit\n                </text> */}\n            </g>\n            <g style={styles.barContainer2}>\n                <rect ref={this.references.stats2} style={styles.bar}\n                    x='0'\n                    y='0'\n                    width='6%'\n                    height='0'\n                    fill='#2396CD'\n                    strokeWidth='0'\n                />\n                <text ref={this.references.text3} x='0' y='-1%' style={styles.text}>\n                    {Math.round(this.props.percentageBlack)}%\n                </text>\n                {/* <text className='bar' ref={this.references.text4} x='0' y='4%' style={styles.text2}>\n                    Zwart\n                </text> */}\n            </g>\n        </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = {\n      text1: React.createRef(),\n      text2: React.createRef(),\n      text3: React.createRef(),\n      text4: React.createRef()\n    };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n\n      case 2:\n        this.animatePhase2();\n        break;\n\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const {\n      duration\n    } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    d3.select(this.references.text1.current).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Een fictieve populatie van 100 mensen').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn wit').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn zwart').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Sommigen zijn crimineel').transition().delay(delay).duration(animationTime).style('opacity', 0) // scenario 1\n    // .transition()\n    // .delay(delay)\n    // .duration(animationTime)\n    // .style('opacity', 1)\n    // .text('De politie controleert willekeurig.')\n    // .transition()\n    // .delay(delay)\n    // .duration(animationTime)\n    // .style('opacity', 0);\n    // scenario 2\n    // .transition()\n    // .delay(delay)\n    // .duration(animationTime)\n    // .style('opacity', 1)\n    // .text('De politie controleert vaker in \"zwarte\" buurten.')\n    // .transition()\n    // .delay(delay)\n    // .duration(animationTime)\n    // .style('opacity', 0);\n    // scenario 3\n    .transition().delay(delay).duration(animationTime).style('opacity', 1).text('De politie controleert vaker in \"zwarte\" buurten...').transition().delay(delay).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('...Ã©n is bevooroordeeld.').transition().delay(delay).duration(animationTime).style('opacity', 0);\n  }\n\n  animatePhase2() {\n    const {\n      duration\n    } = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n    d3.select(this.references.text2.current).style('opacity', 0).transition().delay(delay * 2).duration(animationTime).style('opacity', 1).text('Dit zijn de gecontroleerde mensen.').transition().delay(delay * 0.8).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('De politie telt het aantal criminelen van elke huidskleur.').transition().delay(delay * 0.8).duration(animationTime).style('opacity', 0).transition().duration(animationTime).style('opacity', 1).text('Dit is de totale verdeling van criminelen per huidskleur:').transition().delay(delay * 0.8).duration(animationTime).style('opacity', 0);\n    d3.select(this.references.text3.current).style('opacity', 0).transition().delay(delay * 8).duration(animationTime).style('opacity', 1).text('Percentage witte criminelen');\n    d3.select(this.references.text4.current).style('opacity', 0).transition().delay(delay * 8).duration(animationTime).style('opacity', 1).text('Percentage zwarte criminelen');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text1,\n      style: styles.text,\n      className: \"narrator\",\n      x: \"50%\",\n      y: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text2,\n      style: styles.text2,\n      className: \"narrator\",\n      x: \"50%\",\n      y: \"50%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text3,\n      style: styles.text3,\n      className: \"narrator\",\n      x: \"26%\",\n      y: \"85%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      ref: this.references.text4,\n      style: styles.text4,\n      className: \"narrator\",\n      x: \"81%\",\n      y: \"85%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Narrator/index.js"],"names":["React","d3","styles","Narrator","PureComponent","constructor","props","references","text1","createRef","text2","text3","text4","componentDidMount","animate","componentDidUpdate","phase","animatePhase1","animatePhase2","duration","steps","timePerStep","delay","animationTime","select","current","style","transition","text","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport styles from './style';\n\nexport default class Narrator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.references = { text1: React.createRef(), text2: React.createRef(), text3: React.createRef(), text4: React.createRef() };\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    this.animate();\n  }\n\n  animate() {\n    switch (this.props.phase) {\n      case 1:\n        this.animatePhase1();\n        break;\n      case 2:\n        this.animatePhase2();\n        break;\n      default:\n        this.animatePhase1();\n    }\n  }\n\n  animatePhase1() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text1.current)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Een fictieve populatie van 100 mensen')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn wit')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn zwart')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Sommigen zijn crimineel')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      // scenario 1\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 1)\n      // .text('De politie controleert willekeurig.')\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 0);\n\n      // scenario 2\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 1)\n      // .text('De politie controleert vaker in \"zwarte\" buurten.')\n      // .transition()\n      // .delay(delay)\n      // .duration(animationTime)\n      // .style('opacity', 0);\n\n      // scenario 3\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie controleert vaker in \"zwarte\" buurten...')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('...Ã©n is bevooroordeeld.')\n      .transition()\n      .delay(delay)\n      .duration(animationTime)\n      .style('opacity', 0);\n  }\n\n\n  animatePhase2() {\n    const { duration} = this.props;\n    const steps = 4;\n    const timePerStep = duration / steps;\n    const delay = timePerStep * 0.5;\n    const animationTime = timePerStep * 0.25;\n\n    d3.select(this.references.text2.current)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay * 2)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Dit zijn de gecontroleerde mensen.')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('De politie telt het aantal criminelen van elke huidskleur.')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n      .transition()\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Dit is de totale verdeling van criminelen per huidskleur:')\n      .transition()\n      .delay(delay * 0.8)\n      .duration(animationTime)\n      .style('opacity', 0)\n\n    d3.select(this.references.text3.current)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay * 8)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Percentage witte criminelen')\n\n    d3.select(this.references.text4.current)\n      .style('opacity', 0)\n\n      .transition()\n      .delay(delay * 8)\n      .duration(animationTime)\n      .style('opacity', 1)\n      .text('Percentage zwarte criminelen')\n\n  }\n\n\n  render() {\n    return (\n      <g>\n        <text ref={this.references.text1} style={styles.text}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n        <text ref={this.references.text2} style={styles.text2}\n          className='narrator'\n          x='50%'\n          y='50%'\n        />\n        <text ref={this.references.text3} style={styles.text3}\n          className='narrator'\n          x='26%'\n          y='85%'\n        />\n        <text ref={this.references.text4} style={styles.text4}\n          className='narrator'\n          x='81%'\n          y='85%'\n        />\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
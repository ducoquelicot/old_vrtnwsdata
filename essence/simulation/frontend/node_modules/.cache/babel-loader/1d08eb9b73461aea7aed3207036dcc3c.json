{"ast":null,"code":"import _classCallCheck from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Human from'../../generators/Human';import Citizen from'../Citizen';import Narrator from'../Narrator';import styles from'./style';var Simulation=/*#__PURE__*/function(_React$PureComponent){_inherits(Simulation,_React$PureComponent);var _super=_createSuper(Simulation);function Simulation(props){var _this;_classCallCheck(this,Simulation);_this=_super.call(this,props);_this.citizenAmount=100;_this.durationPhase1=10000;// ms\n_this.durationPhase2=10000;// ms\n_this.durationPhase3=10000;// ms\n_this.delayBetweenPhases=5000;//ms\n_this.state={citizens:[],phase:1,duration:_this.durationPhase1};return _this;}_createClass(Simulation,[{key:\"componentDidMount\",value:function componentDidMount(){this.generatePopulation();this.startPhaseCountdown();}},{key:\"startPhaseCountdown\",value:function startPhaseCountdown(){var _this2=this;var delayPhase2=this.durationPhase1+this.delayBetweenPhases;var delayPhase3=this.durationPhase1+this.durationPhase2+this.delayBetweenPhases*2;setTimeout(function(){_this2.setState({duration:_this2.durationPhase2,phase:2});},delayPhase2);setTimeout(function(){_this2.setState({duration:_this2.durationPhase3,phase:3});},delayPhase3);}},{key:\"generatePopulation\",value:function generatePopulation(){var population=[];for(var index=0;index<this.citizenAmount;index++){population.push(new Human({index:index}));}this.setState({citizens:population});}},{key:\"renderCitizens\",value:function renderCitizens(){var _this$state=this.state,citizens=_this$state.citizens,duration=_this$state.duration,phase=_this$state.phase;return citizens.map(function(citizen){return/*#__PURE__*/React.createElement(Citizen,{key:citizen.index,index:citizen.index,duration:duration,phase:phase,skinTone:citizen.skinTone,guilty:citizen.guilty,name:citizen.name});});}},{key:\"render\",value:function render(){var duration=this.state.duration;var citizens=this.renderCitizens();console.log(this.state);return/*#__PURE__*/React.createElement(\"svg\",{style:styles.svg},citizens,/*#__PURE__*/React.createElement(Narrator,{phase:this.phase,duration:duration}));}}]);return Simulation;}(React.PureComponent);export{Simulation as default};","map":{"version":3,"sources":["/Users/fmeijer/Desktop/vrtnws_data/essence/simulation/frontend/src/components/Simulation/index.js"],"names":["React","Human","Citizen","Narrator","styles","Simulation","props","citizenAmount","durationPhase1","durationPhase2","durationPhase3","delayBetweenPhases","state","citizens","phase","duration","generatePopulation","startPhaseCountdown","delayPhase2","delayPhase3","setTimeout","setState","population","index","push","map","citizen","skinTone","guilty","name","renderCitizens","console","log","svg","PureComponent"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,SAAnB,C,GAEqBC,CAAAA,U,4HAEnB,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EACA,MAAKC,aAAL,CAAqB,GAArB,CACA,MAAKC,cAAL,CAAsB,KAAtB,CAA6B;AAC7B,MAAKC,cAAL,CAAsB,KAAtB,CAA6B;AAC7B,MAAKC,cAAL,CAAsB,KAAtB,CAA6B;AAC7B,MAAKC,kBAAL,CAA0B,IAA1B,CAAgC;AAEhC,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,KAAK,CAAE,CAFI,CAGXC,QAAQ,CAAE,MAAKP,cAHJ,CAAb,CARiB,aAalB,C,oFAEmB,CAClB,KAAKQ,kBAAL,GACA,KAAKC,mBAAL,GACD,C,iEAEqB,iBACpB,GAAMC,CAAAA,WAAW,CAAG,KAAKV,cAAL,CAAsB,KAAKG,kBAA/C,CACA,GAAMQ,CAAAA,WAAW,CAAG,KAAKX,cAAL,CAAsB,KAAKC,cAA3B,CAA6C,KAAKE,kBAAL,CAA0B,CAA3F,CAEAS,UAAU,CAAC,UAAM,CACf,MAAI,CAACC,QAAL,CAAc,CAAEN,QAAQ,CAAE,MAAI,CAACN,cAAjB,CAAiCK,KAAK,CAAE,CAAxC,CAAd,EACD,CAFS,CAEPI,WAFO,CAAV,CAIAE,UAAU,CAAC,UAAM,CACf,MAAI,CAACC,QAAL,CAAc,CAAEN,QAAQ,CAAE,MAAI,CAACL,cAAjB,CAAiCI,KAAK,CAAE,CAAxC,CAAd,EACD,CAFS,CAEPK,WAFO,CAAV,CAGD,C,+DAEoB,CACnB,GAAMG,CAAAA,UAAU,CAAG,EAAnB,CACA,IAAK,GAAIC,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAG,KAAKhB,aAAjC,CAAgDgB,KAAK,EAArD,CAAyD,CACvDD,UAAU,CAACE,IAAX,CAAgB,GAAIvB,CAAAA,KAAJ,CAAU,CAAEsB,KAAK,CAALA,KAAF,CAAV,CAAhB,EACD,CACD,KAAKF,QAAL,CAAc,CAAER,QAAQ,CAAES,UAAZ,CAAd,EACD,C,uDAEgB,iBACuB,KAAKV,KAD5B,CACPC,QADO,aACPA,QADO,CACGE,QADH,aACGA,QADH,CACaD,KADb,aACaA,KADb,CAGf,MACED,CAAAA,QAAQ,CAACY,GAAT,CAAa,SAAAC,OAAO,CAAI,CACtB,mBAAO,oBAAC,OAAD,EACL,GAAG,CAAEA,OAAO,CAACH,KADR,CAEL,KAAK,CAAEG,OAAO,CAACH,KAFV,CAGL,QAAQ,CAAER,QAHL,CAIL,KAAK,CAAED,KAJF,CAKL,QAAQ,CAAEY,OAAO,CAACC,QALb,CAML,MAAM,CAAED,OAAO,CAACE,MANX,CAOL,IAAI,CAAEF,OAAO,CAACG,IAPT,EAAP,CASD,CAVD,CADF,CAaD,C,uCAEQ,IACCd,CAAAA,QADD,CACc,KAAKH,KADnB,CACCG,QADD,CAEP,GAAMF,CAAAA,QAAQ,CAAG,KAAKiB,cAAL,EAAjB,CAEAC,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAjB,EACA,mBACE,2BAAK,KAAK,CAAER,MAAM,CAAC6B,GAAnB,EACGpB,QADH,cAEE,oBAAC,QAAD,EAAU,KAAK,CAAE,KAAKC,KAAtB,CAA6B,QAAQ,CAAEC,QAAvC,EAFF,CADF,CAMD,C,wBAxEqCf,KAAK,CAACkC,a,SAAzB7B,U","sourcesContent":["import React from 'react';\nimport Human from '../../generators/Human';\nimport Citizen from '../Citizen';\nimport Narrator from '../Narrator';\nimport styles from './style';\n\nexport default class Simulation extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.citizenAmount = 100;\n    this.durationPhase1 = 10000; // ms\n    this.durationPhase2 = 10000; // ms\n    this.durationPhase3 = 10000; // ms\n    this.delayBetweenPhases = 5000; //ms\n\n    this.state = {\n      citizens: [],\n      phase: 1,\n      duration: this.durationPhase1\n    };\n  }\n\n  componentDidMount() {\n    this.generatePopulation();\n    this.startPhaseCountdown();\n  }\n\n  startPhaseCountdown() {\n    const delayPhase2 = this.durationPhase1 + this.delayBetweenPhases;\n    const delayPhase3 = this.durationPhase1 + this.durationPhase2 + (this.delayBetweenPhases * 2);\n\n    setTimeout(() => {\n      this.setState({ duration: this.durationPhase2, phase: 2 });\n    }, delayPhase2);\n\n    setTimeout(() => {\n      this.setState({ duration: this.durationPhase3, phase: 3 });\n    }, delayPhase3);\n  }\n\n  generatePopulation() {\n    const population = [];\n    for (let index = 0; index < this.citizenAmount; index++) {\n      population.push(new Human({ index }));\n    }\n    this.setState({ citizens: population });\n  }\n\n  renderCitizens() {\n    const { citizens, duration, phase } = this.state;\n\n    return (\n      citizens.map(citizen => {\n        return <Citizen\n          key={citizen.index}\n          index={citizen.index}\n          duration={duration}\n          phase={phase}\n          skinTone={citizen.skinTone}\n          guilty={citizen.guilty}\n          name={citizen.name}\n        />;\n      })\n    );\n  }\n\n  render() {\n    const { duration } = this.state;\n    const citizens = this.renderCitizens();\n\n    console.log(this.state);\n    return (\n      <svg style={styles.svg}>\n        {citizens}\n        <Narrator phase={this.phase} duration={duration} />\n      </svg>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}